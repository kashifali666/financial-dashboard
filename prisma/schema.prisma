generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Account {
  id             String         @id @default(cuid())
  accountName    String         @unique
  accountNumber  Int            @unique
  accountType    AccountType
  normalBalance  NormalBalance
  description    String?
  createdAt      DateTime       @default(now())
  updatedAt      DateTime       @updatedAt
  journalEntries JournalEntry[]
}

model Transaction {
  id              String         @id @default(cuid())
  transactionDate DateTime       @default(now())
  description     String
  journalEntries  JournalEntry[]
}

model JournalEntry {
  id            String      @id @default(cuid())
  debit         Decimal     @default(0) @db.Decimal(10, 2)
  credit        Decimal     @default(0) @db.Decimal(10, 2)
  transaction   Transaction @relation(fields: [transactionId], references: [id])
  transactionId String
  account       Account     @relation(fields: [accountId], references: [id])
  accountId     String
}

enum AccountType {
  ASSET
  LIABILITY
  EQUITY
  REVENUE
  EXPENSE
}

enum NormalBalance {
  DEBIT
  CREDIT
}
